{% import "CatalystTemplateBundle::menu.html.twig" as menu %}
{% import "CatalystTemplateBundle::form.html.twig" as form %}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
<meta charset="utf-8"/>
<title>{% block title %}HRIS{% endblock %}</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="" name="description"/>
<meta content="" name="author"/>
{% block meta %}{% endblock %}
<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet" type="text/css"/>

{% stylesheets
    'bundles/catalysttemplate/assets/global/plugins/font-awesome-4.4.0/css/font-awesome.min.css'
    'bundles/catalysttemplate/assets/global/plugins/simple-line-icons/simple-line-icons.min.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap/css/bootstrap.min.css'
    'bundles/catalysttemplate/assets/global/plugins/uniform/css/uniform.default.css'
    'bundles/catalysttemplate/assets/global/plugins/select2/select2.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-datepicker/css/datepicker3.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-datetimepicker/css/datetimepicker.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css'
    'bundles/catalysttemplate/assets/global/css/photobooth.css'
    'bundles/catalysttemplate/assets/global/plugins/data-tables/DT_bootstrap.css'
    'bundles/catalysttemplate/assets/global/plugins/fullcalendar-2.3.1/fullcalendar.css'
    'bundles/catalysttemplate/assets/global/plugins/fancybox/source/jquery.fancybox.css'
    'bundles/catalysttemplate/assets/admin/pages/css/portfolio.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-toastr/toastr.min.css'
    'bundles/catalysttemplate/assets/global/plugins/dropzone/css/dropzone.css'
    'bundles/catalysttemplate/assets/global/plugins/jquery.orgchart-master/jquery.orgchart.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-summernote/summernote.css'
    filter='cssrewrite'
%}
    <link rel="stylesheet" href="{{ asset_url }}" />

{% endstylesheets %}
<!-- END GLOBAL MANDATORY STYLES -->


{% block css %}{% endblock %}
<!-- BEGIN THEME STYLES -->
{% stylesheets
    'bundles/catalysttemplate/assets/global/css/components.css'
    'bundles/catalysttemplate/assets/global/css/plugins.css'
    'bundles/catalysttemplate/assets/admin/layout/css/layout.css'
    'bundles/catalysttemplate/assets/admin/layout/css/themes/default.css'
    'bundles/catalysttemplate/assets/admin/layout/css/custom.css'
    'bundles/catalystmedia/css/lightbox.css'
    filter='cssrewrite'
%}
    <link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}
     {% embed "HrisTemplateBundle::css.html.twig" with {'conf': conf, 'theme':theme} %}{% endembed %}
 
<!-- END THEME STYLES -->
<link rel="shortcut icon" href="{{ conf.getAll['hris_com_favicon_url'] is defined and conf.getAll['hris_com_favicon_url'] != '' ?conf.getAll['hris_com_favicon_url'] : asset('bundles/hristemplate/images/quadrant-logo.png') }}"/>
<script src="{{ asset('bundles/catalysttemplate/assets/global/plugins/jquery-1.11.0.min.js') }}" type="text/javascript"></script>

</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<!-- DOC: Apply "page-header-fixed-mobile" and "page-footer-fixed-mobile" class to body element to force fixed header or footer in mobile devices -->
<!-- DOC: Apply "page-sidebar-closed" class to the body and "page-sidebar-menu-closed" class to the sidebar menu element to hide the sidebar by default -->
<!-- DOC: Apply "page-sidebar-hide" class to the body to make the sidebar completely hidden on toggle -->
<!-- DOC: Apply "page-sidebar-closed-hide-logo" class to the body element to make the logo hidden on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-hide" class to body element to completely hide the sidebar on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-fixed" class to have fixed sidebar -->
<!-- DOC: Apply "page-footer-fixed" class to the body element to have fixed footer -->
<!-- DOC: Apply "page-sidebar-reversed" class to put the sidebar on the right side -->
<!-- DOC: Apply "page-full-width" class to the body element to have full width page without the sidebar menu -->
<body class="page-header-fixed">
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner">
        <!-- BEGIN LOGO -->
        <div class="page-logo">

            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
            {% if app.user.hasAccess('hris_omnibar.view') %}
            <div class="page-omnibar form-group" >
                <div class="has-feedback form-group">
                    <input type="hidden" name="omnibar_hidden" id="omnibar_id" value="">
                    <input type="text" name="omnibar_hidden" value="" placeholder="" id="omnibar_typeahead" data-path="{{path('hris_workforce_employee_ajax_get')}}" class="form-control" autocomplete="off" />
                    <span class="glyphicon glyphicon-search form-control-feedback"></span>
                </div>
            </div>
            <div class=" add-icon form-group">
                <a href="{{ path('hris_workforce_employee_add_form')}}">
                    <i class="fa fa-user-plus"></i>
                </a>
            </div>
            {% endif %}
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <div class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
        </div>
        <!-- END RESPONSIVE MENU TOGGLER -->
        {% embed "CatalystTemplateBundle::top_nav_menu.html.twig" %}{% endembed %}
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<div class="clearfix">
</div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
        <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
        <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
        <div class="page-sidebar navbar-collapse collapse">
        <div class="menu-logo">
                <a href="/">
                    <span class="helper"></span>
                    <img src="{{ conf.getAll['hris_com_logo_url'] is defined and conf.getAll['hris_com_logo_url'] != '' ?conf.getAll['hris_com_logo_url'] :asset('bundles/hristemplate/images/QA_logo_small.png') }}" style="width:100%;" alt="logo" class="logo-default"/>
                    <span class="helper"></span>
                </a>
        </div>
            {{ menu.main_menu(left_menu) }}
        </div>
    </div>
    <!-- END SIDEBAR -->
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <div class="page-content">
            <!-- BEGIN PAGE HEADER-->
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->
                    <h3 class="page-title">
                    {% block header_title %}
                    {{ head_title }} <small>{{ head_subtitle }}</small>
                    {% endblock %}
                    </h3>
                    <ul class="page-breadcrumb breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="/">Home</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        {% for trail in bcrumb %}
                        <li>
                            {% if (trail.url != null) %}
                            <a href="{{ trail.url }}">{{ trail.label }}</a>
                            {% else %}
                            {{ trail.label }}
                            {% endif %}

                            {% if (not loop.last) %}
                            <i class="fa fa-angle-right"></i>
                            {% endif %}
                        </li>
                        {% endfor %}
                        <li class="pull-right">
                        {% block header_right %}{% endblock %}
                        </li>
                    </ul>
                    <!-- END PAGE TITLE & BREADCRUMB-->
                </div>
            </div>
            <!-- END PAGE HEADER-->

            {% for flash_msg in app.session.flashbag.get('error') %}
            {# <div class="alert alert-danger alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>
                <strong>Error: </strong>
                {{ flash_msg }}
            </div> #}
                {{ form.hidden('error[]',flash_msg) }}
            {% endfor %}

            {% for flash_msg in app.session.flashbag.get('success') %}
            {# <div class="alert alert-success alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>
                <strong>Success: </strong>
                {{ flash_msg }}
            </div> #}
                {{ form.hidden('success[]',flash_msg) }}
            {% endfor %}

            {% block content %}{% endblock %}
        </div>
    </div>
    <!-- END CONTENT -->
</div>
<!-- END CONTAINER -->
<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="page-footer-inner">
         2015 &copy; <img src="{{ asset('bundles/catalysttemplate/assets/global/img/quadrant-logo.png') }}" alt="qa-logo"/>uadrant Alpha
    </div>
    <div class="page-footer-tools">
        <span class="go-top">
        <i class="fa fa-angle-up"></i>
        </span>
    </div>
</div>
<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="{{ asset('bundles/catalysttemplate/assets/global/plugins/respond.min.js') }}"></script>
<script src="{{ asset('bundles/catalysttemplate/assets/global/plugins/excanvas.min.js') }}"></script> 
<![endif]-->
<script src="{{ asset('bundles/catalysttemplate/assets/global/plugins/jquery-1.11.0.min.js') }}" type="text/javascript"></script>
<script src="{{ asset('bundles/catalysttemplate/assets/global/plugins/jquery-migrate-1.2.1.min.js') }}" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui-1.10.3.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->

{% javascripts
    'bundles/catalysttemplate/assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap/js/bootstrap.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery.blockui.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery.cokie.min.js'
    'bundles/catalysttemplate/assets/global/plugins/uniform/jquery.uniform.min.js'
    'bundles/catalysttemplate/assets/global/plugins/mustache.min.js'
%}
       <script src="{{ asset_url }}" type="text/javascript"></script>
{% endjavascripts %}
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
{% javascripts

    'bundles/catalysttemplate/assets/global/scripts/metronic.js'
    'bundles/catalysttemplate/assets/admin/layout/scripts/layout.js'
    'bundles/catalysttemplate/assets/global/plugins/select2/select2.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-validation/js/jquery.validate.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-validation/js/additional-methods.min.js'
    'bundles/catalysttemplate/assets/global/scripts/validation.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js'
    'bundles/catalystnotification/js/notification.js'
    'bundles/catalysttemplate/assets/global/scripts/template.js'

    'bundles/catalystcontact/js/catalyst.has_phones.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-typeahead/bootstrap-typeahead.min.js'
    'bundles/catalystmedia/js/lightbox.min.js'
    'bundles/catalysttemplate/assets/admin/pages/scripts/components-pickers.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js'
    'bundles/catalysttemplate/assets/global/plugins/clockface/js/clockface.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-daterangepicker/moment.min.js'

    'bundles/catalysttemplate/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootbox/bootbox.min.js'
    'bundles/catalystmedia/js/catalyst_media.js'

    'bundles/catalysttemplate/assets/global/plugins/jquery.orgchart-master/jquery.orgchart.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-mixitup/jquery.mixitup.min.js'
    'bundles/catalysttemplate/assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js'
    'bundles/catalysttemplate/assets/global/plugins/fancybox/source/jquery.fancybox.pack.js'
    'bundles/catalysttemplate/assets/admin/pages/scripts/portfolio.js'
    'bundles/catalysttemplate/assets/global/plugins/dropzone/dropzone.js'
    'bundles/catalysttemplate/assets/admin/pages/scripts/form-dropzone.js'
    'bundles/catalysttemplate/assets/global/plugins/data-tables/jquery.dataTables.min.js'
    'bundles/catalysttemplate/assets/global/plugins/data-tables/jquery.dataTables.fnreloadajax.js'
    'bundles/catalysttemplate/assets/global/plugins/data-tables/DT_bootstrap.js'
    'bundles/catalysttemplate/assets/admin/pages/scripts/form-validation.js'
    'bundles/catalysttemplate/assets/global/plugins/highcharts/highcharts.js'
    'bundles/catalysttemplate/assets/global/plugins/fullcalendar-2.3.1/lib/moment.min.js'
    'bundles/catalysttemplate/assets/global/plugins/fullcalendar-2.3.1/fullcalendar.min.js'
    'bundles/catalysttemplate/assets/global/plugins/moment.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-datepaginator/bootstrap-datepaginator.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-toastr/toastr.min.js'
    'bundles/catalysttemplate/assets/global/plugins/bootstrap-summernote/summernote.min.js'
    'bundles/catalysttemplate/assets/global/plugins/photobooth.min.js'
%}
<script src="{{ asset_url }}" type="text/javascript"></script>
{% endjavascripts %}
<!-- END PAGE LEVEL SCRIPTS -->
<script>
function clearTypeahead(name, prefix)
{
    $('#'+prefix+name+'_id').val('');
    $('#'+prefix+name+'_typeahead').val('');
    $('#'+prefix+name+'_typeahead').prop('readonly', false);
    $('#'+prefix+name+'_typeahead').focus();
    $('#omnibar_typeahead').focus();
    $('#'+prefix+name+'_typeahead').focus();

}
jQuery(document).ready(function() {

    $('#print_btn').prop('target', "_blank");
    Metronic.init(); // init metronic core componets
    Layout.init(); // init layout
    Template.init();

    Notification.init();


    var omni = $('#omnibar_typeahead');
    $('#omnibar_typeahead').typeahead({
        ajax: omni.data('path'),
        alignWidth: false,
        onSelect : function(item){
            omni.prev('input').val(item.value);
            var url = "{{ path ('hris_workforce_employee_edit_form', { id: ':id' }) }}";
            url = url.replace(":id", item.value);
            window.location.href = url;
        }
    });

    //set to readonly typeaheads with value
    $( ".typeahead" ).each(function() {
        var auto = $(this);
        if (auto.val() != '') 
        {
            auto.prop('readonly', true);
        }
    });

});
</script>
{% block js %}{% endblock %}
<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>
