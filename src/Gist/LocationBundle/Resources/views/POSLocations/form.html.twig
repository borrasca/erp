{% extends "GistTemplateBundle::base.html.twig" %}
{% import "GistTemplateBundle::form.html.twig" as form %}

{% set readonly = not app.user.hasAccess('cat_user_user.edit') %}

{% block content %}
    <form method="post" class="form-horizontal">
    {#BEGIN TABS#}
    <!-- start of profile -->
    <div class="row profile">
        <div class="col-md-12">
            <!--BEGIN TABS-->
            <div class="tabbable tabbable-custom tabbable-full-width">
                <!-- MAIN TABS -->
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#tab_pos" data-toggle="tab">
                            POS </a>
                    </li>
                    <li>
                        <a href="#tab_permits" data-toggle="tab">
                            Permits </a>
                    </li>
                    <li>
                        <a href="#tab_rental" data-toggle="tab">
                            Rental </a>
                    </li>
                    <li>
                        <a href="#tab_terminals" data-toggle="tab">
                            Terminals </a>
                    </li>
                    <li>
                        <a href="#tab_insurance" data-toggle="tab">
                            Insurance </a>
                    </li>
                </ul>
                <!-- END MAIN TABS -->
                <div class="tab-content">
                    <!-- POS TAB -->
                    <div class="tab-pane active" id="tab_pos">
                        {% include 'GistLocationBundle:POSLocations:pos.html.twig' %}
                    </div>
                    <div class="tab-pane" id="tab_permits">
                        {% include 'GistLocationBundle:POSLocations:permits.html.twig' %}
                    </div>
                    <div class="tab-pane" id="tab_rental">
                        {% include 'GistLocationBundle:POSLocations:rental.html.twig' %}
                    </div>
                    <div class="tab-pane" id="tab_terminals">
                        {% include 'GistLocationBundle:POSLocations:terminals.html.twig' %}
                    </div>
                    <div class="tab-pane" id="tab_insurance">
                        {% include 'GistLocationBundle:POSLocations:insurance.html.twig' %}
                    </div>
                    
                </div>
            </div>
            <!--END TABS-->
        </div>
    </div>
    {#END TABS#}
{% endblock %}
{% block js %}
<!-- HERE -->
<script>
$(document).ready(function() {

    var selectedValues = $("#sourceValues").val().split(',');
    $(".select_2-multi").val(selectedValues).trigger("change");

    FormValidation.init(); 

    // set default error and success elements
    jQuery.validator.setDefaults({
        errorClass: 'help-block',
        errorElement: 'span',
        errorPlacement: function(error, element) {
            $("#help").html('');
            if(element.parent().parent().hasClass('form-group'))
            {
                error.appendTo(element.parent().last());
                element.parent().parent().addClass('has-error');
            }
            else if(element.parent().parent().hasClass('checker'))
            {   
                error.appendTo(element.parent().parent().parent().parent().last());
                element.parent().parent().parent().parent().parent().addClass('has-error');
            }
            else
            {
                error.appendTo(element.parent().parent().last());
                element.parent().parent().parent().addClass('has-error');
            }
        },
        success: function(element) {
            $("#help").html('');
            if(element.parent().parent().hasClass('form-group'))
            {  
                element.parent().parent().removeClass('has-error');
                element.parent().parent().addClass('has-success');
            }
            else if(element.parent().parent().hasClass('checker'))
            {   
                element.parent().parent().parent().parent().parent().addClass('has-error');
                element.parent().parent().parent().parent().parent().addClass('has-success');
            }
            else
            {  
                element.parent().parent().parent().removeClass('has-error');
                element.parent().parent().parent().addClass('has-success');
            }

            element.remove();
        }
    });

    // validate form elements
            $(".form-horizontal").validate({
                onfocusout: function(element) {
                    this.element(element);
                },
                rules: {
                    name: {
                        required: true
                    },
                    leasor: {
                        required: true
                    },
                    contact_number: {
                        required: true
                    },
                    type: {
                        required: true
                    },
                    brand: {
                        required: true
                    },
                    area: {
                        required: true
                    },
                    status: {
                        required: true
                    },
                    city: {
                        required: true
                    }
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });

});
</script>
{% endblock %}






















{#
v
v
v
v
v
v
{% extends "GistTemplateBundle::base.html.twig" %}
{% import "GistTemplateBundle::form.html.twig" as form %}

{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="portlet box blue-hoki">
                <div class="portlet-title">
                    <div class="caption">{% block form_header %}Role{% endblock %}</div>
                </div>
                <div class="portlet-body form">
                    <!-- BEGIN FORM-->
                    <form method="post" class="form-horizontal">
                        <div class="form-body">
                            <h4 class="form-section">Information</h4>
                            {{ form.group_text('Name', 'name', object.getName, 3, 4, readonly) }}

                            {{ form.group_text('Leasor', 'leasor', object.getLeasor, 3, 4, readonly) }}
                            {{ form.group_text('Contact No', 'contact_number', object.getContactNumber, 3, 4, readonly) }}
                            {{ form.group_text('Map Coor.', 'coordinates', object.getCoordinates, 3, 4, readonly) }}
                            {{ form.group_textarea('Locator Description', 'locator_desc',object.getLocatorDesc|default(''),3,3,4)}}

                            {{ form.group_select('Type', 'type', type_opts, object.getType|default(''), 3, 4, readonly) }}
                            {{ form.group_select('Brand', 'brand', brand_opts, object.getBrand|default(''), 3, 4, readonly) }}

                            {{ form.group_text('City', 'city', object.getCity, 3, 4, readonly) }}
                            {{ form.group_text('Postal', 'postal', object.getCoordinates, 3, 4, readonly) }}
                            {{ form.group_text('Region', 'region', object.getCoordinates, 3, 4, readonly) }}
                            {{ form.group_text('Country', 'country', object.getCoordinates, 3, 4, readonly) }}
                            {{ form.group_select('Status', 'status', status_opts, object.getStatus|default(''), 3, 4, readonly) }}
                            {{ form.group_select('Area', 'area', area_opts, object.getArea.getID|default(''), 3, 4, readonly) }}

                        </div>
                        <div class="form-actions fluid">
                            <div class="col-md-9">
                                {% if not readonly %}
                                    <button type="submit" class="btn blue">Submit</button>
                                {% endif %}
                                <a href="{{ path(route_list) }}" class="btn default">Cancel</a>
                            </div>
                        </div>
                    </form>
                    <!-- END FORM-->
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script>
        $(document).ready(function() {
            FormValidation.init(); // init form validation

            // set default error and success elements
            jQuery.validator.setDefaults({
                errorClass: 'help-block',
                errorElement: 'span',
                errorPlacement: function(error, element) {
                    if(element.parent().parent().hasClass('form-group'))
                    {
                        error.appendTo(element.parent().last());
                        element.parent().parent().addClass('has-error');
                    }
                    else
                    {
                        error.appendTo(element.parent().parent().last());
                        element.parent().parent().parent().addClass('has-error');
                    }
                },
                success: function(element) {
                    if(element.parent().parent().hasClass('form-group'))
                    {
                        element.parent().parent().removeClass('has-error');
                        element.parent().parent().addClass('has-success');
                    }
                    else
                    {
                        element.parent().parent().parent().removeClass('has-error');
                        element.parent().parent().parent().addClass('has-success');
                    }

                    element.remove();
                }
            });

            // validate form elements
            $(".form-horizontal").validate({
                onfocusout: function(element) {
                    this.element(element);
                },
                rules: {
                    name: {
                        required: true
                    },
                    leasor: {
                        required: true
                    },
                    contact_number: {
                        required: true
                    },
                    type: {
                        required: true
                    },
                    brand: {
                        required: true
                    },
                    area: {
                        required: true
                    },
                    status: {
                        required: true
                    },
                    city: {
                        required: true
                    }
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
        });
    </script>
{% endblock %}
#}